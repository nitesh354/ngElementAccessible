/**
 * ng-element-accessible 1.0.0 2015-11-03
 * @author: Nitesh Mishra <niteshmishra@niteshmishra.in>
 * @homepage: https://github.com/nitesh354/ngElementAccessible
 * @license: GPL-2.0
 */

!function(a){var b=a.module("ngElementAccessible",[]);b.constant("defaultConfig",{prev:"37,38",next:"39,40"}),b.directive("ngKey",["defaultConfig",function(b){return{restrict:"EA",controller:["$scope",function(b){this.childElements=[],this.registerElement=function(a){return this.childElements.push(a),this.childElements.length-1},this.resetCounter=function(a){this.counter=a},this.moveNext=function(a){this.counter=this.counter+a<this.maxLength?this.counter+a:this.maxLength-1,this.moveFocus(this.counter)},this.movePrev=function(a){this.counter=this.counter-a>-1?this.counter-a:0,this.moveFocus(this.counter)},this.moveFocus=function(a){this.childElements[a][0].focus()},this.keyDownHandler=function(b,c){a.isDefined(c)&&!isNaN(c)&&c!==this.counter&&this.resetCounter(c),b.keyCode||(b.which?b.keyCode=b.which:b.charCode&&(b.keyCode=b.charCode)),b.keyCode&&(this.prev.indexOf(b.keyCode.toString())>-1?(this.movePrev(1),b.preventDefault(),b.stopPropagation()):this.next.indexOf(b.keyCode.toString())>-1&&(this.moveNext(1),b.preventDefault(),b.stopPropagation()))}}],link:function(a,c,d,e){e.prev=d.prev?d.prev.split(","):b.prev.split(","),e.next=d.next?d.next.split(","):b.next.split(","),e.maxLength=e.childElements.length,e.counter=-1,c.bind("keydown",function(a){e.keyDownHandler(a,-1)})}}}]),b.directive("ngKeyItem",[function(){return{restrict:"EA",link:function(b,c,d,e){var f=c.parent()&&c.parent().controller("ngKey")||void 0;if(a.isDefined(f)){var g=f.registerElement(c);c.bind("keydown",function(a){f.keyDownHandler(a,g)})}}}}])}(angular);